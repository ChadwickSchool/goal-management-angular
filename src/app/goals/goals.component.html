<div fxLayoutAlign="center center">
  <div class="indicator" [hidden]="dataReceived">
    <span class="sr-only">Loading...</span>
  </div>
  <canvas id="icon" [hidden]="!dataRecieved"></canvas>
  <table id="goals-table" mat-table [dataSource]="goalsDataSource" class="mat-elevation-z8">

  <!-- Description Column -->
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef> Description </th>
    <td mat-cell *matCellDef="let element"> {{element.description}} </td>
  </ng-container>

  <!-- Due Date Column -->
  <ng-container matColumnDef="dueDate">
    <th mat-header-cell *matHeaderCellDef> Due Date </th>
    <td mat-cell *matCellDef="let element" >{{ element.dueDate.seconds * 1000 | date}}</td>
  </ng-container>

  <!-- isCompleted Column -->
  <ng-container matColumnDef="isCompleted">
    <th mat-header-cell *matHeaderCellDef> Completed? </th>
    <td mat-cell *matCellDef="let element"> {{element.isCompleted}} </td>
  </ng-container>

  <!-- isCompleted Column -->
  <ng-container matColumnDef="createdBy">
    <th mat-header-cell *matHeaderCellDef> Created By </th>
    <td mat-cell *matCellDef="let element">
      {{ getUserName(element.createdBy) }}
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="goalsDisplayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: goalsDisplayedColumns;"
  [class.green-row]="row.isCompleted"
  [class.red-row]="!row.isCompleted"></tr>
</table>
</div>
